<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Kuusei&#39;s Blog</title>
  
  <subtitle>也许是个人的博客</subtitle>
  <link href="https://kuusei.moe/atom.xml" rel="self"/>
  
  <link href="https://kuusei.moe/"/>
  <updated>2021-07-26T08:27:01.000Z</updated>
  <id>https://kuusei.moe/</id>
  
  <author>
    <name>kuusei</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>EMBY部署并利用rclone挂载onedrive</title>
    <link href="https://kuusei.moe/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/EMBY%E9%83%A8%E7%BD%B2%E5%B9%B6%E5%88%A9%E7%94%A8rclone%E6%8C%82%E8%BD%BDonedrive/"/>
    <id>https://kuusei.moe/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/EMBY%E9%83%A8%E7%BD%B2%E5%B9%B6%E5%88%A9%E7%94%A8rclone%E6%8C%82%E8%BD%BDonedrive/</id>
    <published>2021-07-26T01:38:07.000Z</published>
    <updated>2021-07-26T08:27:01.000Z</updated>
    
    <content type="html"><![CDATA[<img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/EMBY%E9%83%A8%E7%BD%B2%E5%B9%B6%E5%88%A9%E7%94%A8rclone%E6%8C%82%E8%BD%BDonedrive/2021-07-26-15-17-05.png" class=""><p>本文从应用注册到Emby搭建配置以及<del>魔改</del>都进行了说明，尽量让所有人都能看懂（不存在的，包括但不限于以下内容：</p><ul><li>onedrive应用注册</li><li>rclone配置</li><li>emby搭建</li><li>emby媒体库设置</li><li>emby客户端配置</li><li>其他魔改</li></ul><p>折腾Emby，主要还是为了存档，平时看的机会挺少的，毕竟下新东西也麻烦2333。</p><span id="more"></span><h2 id="应用注册"><a href="#应用注册" class="headerlink" title="应用注册"></a>应用注册</h2><article class="message is-info"><div class="message-body"><p>如果你已经注册了应用，或者你使用其他网盘挂载，请跳过这一步</p><p>或者，如果你并不是使用的E5，没有<strong>刷API</strong>的需求，也可以跳过这一步。</p></div></article><p>首先打开Azure进行应用注册</p><blockquote><p><a href="https://portal.azure.com/#blade/Microsoft_AAD_RegisteredApps/ApplicationsListBlade">https://portal.azure.com/#blade/Microsoft_AAD_RegisteredApps/ApplicationsListBlade</a></p></blockquote><p>选择<strong>新注册</strong>即可开始注册。</p><h3 id="设置名称和返回url"><a href="#设置名称和返回url" class="headerlink" title="设置名称和返回url"></a>设置名称和返回url</h3><p>名称：按需填写</p><p>受支持的帐户类型：任何组织目录(任何 Azure AD 目录 - 多租户)中的帐户和个人 Microsoft 帐户(例如，Skype、Xbox)</p><p>重定向 URI：选择WEB，并填入程序提供的API地址（本文使用rclone，所以要用rclone给的返回地址 <code>http://localhost:53682/</code>）</p><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/EMBY%E9%83%A8%E7%BD%B2%E5%B9%B6%E5%88%A9%E7%94%A8rclone%E6%8C%82%E8%BD%BDonedrive/2021-07-26-09-52-42.png" class=""><h3 id="保存应用程序-客户端-ID"><a href="#保存应用程序-客户端-ID" class="headerlink" title="保存应用程序(客户端) ID"></a>保存应用程序(客户端) ID</h3><p>如标记处所示，复制保存即可</p><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/EMBY%E9%83%A8%E7%BD%B2%E5%B9%B6%E5%88%A9%E7%94%A8rclone%E6%8C%82%E8%BD%BDonedrive/2021-07-26-09-54-48.png" class=""><h3 id="设置密码"><a href="#设置密码" class="headerlink" title="设置密码"></a>设置密码</h3><p>接着在 <code>证书和密码</code>界面添加新客户端密码，截止日期选24个月（可以改html变永久但没必要）</p><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/EMBY%E9%83%A8%E7%BD%B2%E5%B9%B6%E5%88%A9%E7%94%A8rclone%E6%8C%82%E8%BD%BDonedrive/2021-07-26-09-57-07.png" class=""><p>稍等片刻，复制新添加的客户端密码的值（注意是值，不要复制ID）</p><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/EMBY%E9%83%A8%E7%BD%B2%E5%B9%B6%E5%88%A9%E7%94%A8rclone%E6%8C%82%E8%BD%BDonedrive/2021-07-26-09-59-17.png" class=""><p>PS: 如果你已经更新windows11，新的粘贴板（<code>win</code> + <code>v</code>）已经可以锁定了，重启之后也不会丢失数据，很适合暂时保存这类数据。</p><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/EMBY%E9%83%A8%E7%BD%B2%E5%B9%B6%E5%88%A9%E7%94%A8rclone%E6%8C%82%E8%BD%BDonedrive/2021-07-26-10-01-09.png" class=""><h3 id="设置权限"><a href="#设置权限" class="headerlink" title="设置权限"></a>设置权限</h3><p>接在<code>API 权限</code>界面单击<code>添加权限</code>并选择<code>Microsoft Graph</code></p><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/EMBY%E9%83%A8%E7%BD%B2%E5%B9%B6%E5%88%A9%E7%94%A8rclone%E6%8C%82%E8%BD%BDonedrive/2021-07-26-10-06-36.png" class=""><p>点击委托的权限，搜索并添加以下权限：<code>Files.Read</code>、<code>Files.ReadWrite</code>、<code>Files.Read.All</code>、<code>Files.ReadWrite.All</code>、<code>offline_access</code>、<code>User.Read</code>。</p><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/EMBY%E9%83%A8%E7%BD%B2%E5%B9%B6%E5%88%A9%E7%94%A8rclone%E6%8C%82%E8%BD%BDonedrive/2021-07-26-10-08-23.png" class=""><p>添加成功后，就可以看到你设置的权限了，这里再授权一下（这些权限可以不用这一步）</p><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/EMBY%E9%83%A8%E7%BD%B2%E5%B9%B6%E5%88%A9%E7%94%A8rclone%E6%8C%82%E8%BD%BDonedrive/2021-07-26-10-11-27.png" class=""><h2 id="安装并配置rclone"><a href="#安装并配置rclone" class="headerlink" title="安装并配置rclone"></a>安装并配置rclone</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装包</span></span><br><span class="line">apt-get install wget curl ca-certificates unzip</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装rclone</span></span><br><span class="line">curl https://rclone.org/install.sh | bash</span><br></pre></td></tr></table></figure><p>接着在你<strong>本地</strong>设备中创建配置（如果你本地计算机没有rclone，我推荐使用scoop安装，之后会补这一段的内容）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 如果你使用API</span></span><br><span class="line">rclone config</span><br><span class="line"><span class="comment"># 如果你使用微软默认API</span></span><br><span class="line">rclone authorize onedrive</span><br></pre></td></tr></table></figure><article class="message is-info"><div class="message-body"><p>如果你使用微软默认API，请直接跳过下面的代码段</p></div></article><p>这里贴一下rclone配置的流程（没必要看，都是交互式流程，不过注意登录时勾选代表组织同意。）</p><figure class="highlight plaintext"><figcaption><span>点击展开代码 >folded</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line">PS &gt; rclone config</span><br><span class="line">Current remotes:</span><br><span class="line"></span><br><span class="line">Name                 Type</span><br><span class="line">====                 ====</span><br><span class="line"></span><br><span class="line">e) Edit existing remote</span><br><span class="line">n) New remote</span><br><span class="line">d) Delete remote</span><br><span class="line">r) Rename remote</span><br><span class="line">c) Copy remote</span><br><span class="line">s) Set configuration password</span><br><span class="line">q) Quit config</span><br><span class="line">e/n/d/r/c/s/q&gt; n</span><br><span class="line">name&gt; EMBY</span><br><span class="line">...</span><br><span class="line">Storage&gt; 26</span><br><span class="line">** See help for onedrive backend at: https://rclone.org/onedrive/ **</span><br><span class="line"></span><br><span class="line">OAuth Client Id</span><br><span class="line">Leave blank normally.</span><br><span class="line">Enter a string value. Press Enter for the default (&quot;&quot;).</span><br><span class="line">client_id&gt; 请输入你的应用程序(客户端) ID</span><br><span class="line">OAuth Client Secret</span><br><span class="line">Leave blank normally.</span><br><span class="line">Enter a string value. Press Enter for the default (&quot;&quot;).</span><br><span class="line">client_secret&gt; 请输入你的客户端密码</span><br><span class="line">Choose national cloud region for OneDrive.</span><br><span class="line">Enter a string value. Press Enter for the default (&quot;global&quot;).</span><br><span class="line">Choose a number from below, or type in your own value</span><br><span class="line"> 1 / Microsoft Cloud Global</span><br><span class="line">   \ &quot;global&quot;</span><br><span class="line"> 2 / Microsoft Cloud for US Government</span><br><span class="line">   \ &quot;us&quot;</span><br><span class="line"> 3 / Microsoft Cloud Germany</span><br><span class="line">   \ &quot;de&quot;</span><br><span class="line"> 4 / Azure and Office 365 operated by 21Vianet in China</span><br><span class="line">   \ &quot;cn&quot;</span><br><span class="line">region&gt; 1</span><br><span class="line">Edit advanced config? (y/n)</span><br><span class="line">y) Yes</span><br><span class="line">n) No (default)</span><br><span class="line">y/n&gt; n</span><br><span class="line">Remote config</span><br><span class="line">Make sure your Redirect URL is set to &quot;http://localhost:53682/&quot; in your custom config.</span><br><span class="line">Use auto config?</span><br><span class="line"> * Say Y if not sure</span><br><span class="line"> * Say N if you are working on a remote or headless machine</span><br><span class="line">y) Yes (default)</span><br><span class="line">n) No</span><br><span class="line">y/n&gt; y</span><br><span class="line">If your browser doesn&#x27;t open automatically go to the following link: http://127.0.0.1:53682/auth?state=************************</span><br><span class="line">Log in and authorize rclone for access</span><br><span class="line">Waiting for code...</span><br><span class="line">Got code</span><br><span class="line">Choose a number from below, or type in an existing value</span><br><span class="line"> 1 / OneDrive Personal or Business</span><br><span class="line">   \ &quot;onedrive&quot;</span><br><span class="line"> 2 / Root Sharepoint site</span><br><span class="line">   \ &quot;sharepoint&quot;</span><br><span class="line"> 3 / Sharepoint site name or URL (e.g. mysite or https://contoso.sharepoint.com/sites/mysite)</span><br><span class="line">   \ &quot;url&quot;</span><br><span class="line"> 4 / Search for a Sharepoint site</span><br><span class="line">   \ &quot;search&quot;</span><br><span class="line"> 5 / Type in driveID (advanced)</span><br><span class="line">   \ &quot;driveid&quot;</span><br><span class="line"> 6 / Type in SiteID (advanced)</span><br><span class="line">   \ &quot;siteid&quot;</span><br><span class="line"> 7 / Sharepoint server-relative path (advanced, e.g. /teams/hr)</span><br><span class="line">   \ &quot;path&quot;</span><br><span class="line">Your choice&gt; 1</span><br><span class="line">Found 1 drives, please select the one you want to use:</span><br><span class="line">0: OneDrive (business) id=b!**********************************************</span><br><span class="line">Chose drive to use:&gt; 0</span><br><span class="line">Found drive &#x27;root&#x27; of type &#x27;business&#x27;, URL: https://***********************</span><br><span class="line">Is that okay?</span><br><span class="line">y) Yes (default)</span><br><span class="line">n) No</span><br><span class="line">y/n&gt; y</span><br></pre></td></tr></table></figure><p>结束后就可以看到token，此时，把整个花括号（<strong>包含花括号</strong>）的内容都复制。</p><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/EMBY%E9%83%A8%E7%BD%B2%E5%B9%B6%E5%88%A9%E7%94%A8rclone%E6%8C%82%E8%BD%BDonedrive/2021-07-26-10-30-00.png" class=""><p>再在服务器上配置rclone config，流程与本地一致。</p><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/EMBY%E9%83%A8%E7%BD%B2%E5%B9%B6%E5%88%A9%E7%94%A8rclone%E6%8C%82%E8%BD%BDonedrive/2021-07-26-10-43-13.png" class=""><p>但在这一步时，选择<strong>n</strong>，并粘贴之前复制的token，其他步骤保持不变，即可配置完成。</p><p>输入<code>rclone lsd 名称:</code> 即可检查挂载是否成功了。</p><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/EMBY%E9%83%A8%E7%BD%B2%E5%B9%B6%E5%88%A9%E7%94%A8rclone%E6%8C%82%E8%BD%BDonedrive/2021-07-26-10-46-34.png" class=""><h2 id="Rclone挂载"><a href="#Rclone挂载" class="headerlink" title="Rclone挂载"></a>Rclone挂载</h2><p>接着需要把rclone挂载到文件目录，首先需要安装fuse。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install fuse</span><br></pre></td></tr></table></figure><p>接着挂载目录，注意这里需要先<code>mkdir</code>你需要的目录，不能自动创建。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">rclone mount EMBY: /home//emby//onedrive \</span><br><span class="line"> --<span class="built_in">umask</span> 0000 \</span><br><span class="line"> --default-permissions \</span><br><span class="line"> --allow-non-empty \</span><br><span class="line"> --allow-other \</span><br><span class="line"> --buffer-size 32M \</span><br><span class="line"> --dir-cache-time 12h \</span><br><span class="line"> --vfs-read-chunk-size 64M \</span><br><span class="line"> --vfs-read-chunk-size-limit 1G &amp;</span><br></pre></td></tr></table></figure><p>注意这里的参数，其中EMBY对应的就是你rclone的名称，后面是挂载的目录。</p><p>输入 <code>df -h</code> 就可以看到挂载的目录了</p><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/EMBY%E9%83%A8%E7%BD%B2%E5%B9%B6%E5%88%A9%E7%94%A8rclone%E6%8C%82%E8%BD%BDonedrive/2021-07-26-10-52-58.png" class=""><article class="message is-info"><div class="message-body"><p>注意，在重启后挂载会丢失，需要重新挂载</p></div></article><h2 id="安装EMBY并配置文件夹"><a href="#安装EMBY并配置文件夹" class="headerlink" title="安装EMBY并配置文件夹"></a>安装EMBY并配置文件夹</h2><p>终于到了安装emby的时间了（这一步反而是最简单的）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget https://github.com/MediaBrowser/Emby.Releases/releases/download/4.6.4.0/emby-server-deb_4.6.4.0_amd64.deb</span><br><span class="line">dpkg -i emby-server-deb_4.6.4.0_amd64.deb</span><br></pre></td></tr></table></figure><h3 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h3><p>安装完成就可以在浏览器打开 <a href="http://ip:8096/">http://ip:8096/</a> 进入EMBY了（注意vps服务商的防火墙）</p><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/EMBY%E9%83%A8%E7%BD%B2%E5%B9%B6%E5%88%A9%E7%94%A8rclone%E6%8C%82%E8%BD%BDonedrive/2021-07-26-10-57-28.png" class=""><p>ps：如果长时间没有反应，需要刷新一下浏览器，第一次运行有点慢，属于正常现象。</p><p>进入之后就可以设置EMBY了</p><p>选择中文（不会立刻生效）</p><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/EMBY%E9%83%A8%E7%BD%B2%E5%B9%B6%E5%88%A9%E7%94%A8rclone%E6%8C%82%E8%BD%BDonedrive/2021-07-26-11-00-42.png" class=""><p>设置用户名和密码</p><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/EMBY%E9%83%A8%E7%BD%B2%E5%B9%B6%E5%88%A9%E7%94%A8rclone%E6%8C%82%E8%BD%BDonedrive/2021-07-26-11-01-14.png" class=""><p>注意这一步先不要添加媒体库，等装完刮削器再添加</p><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/EMBY%E9%83%A8%E7%BD%B2%E5%B9%B6%E5%88%A9%E7%94%A8rclone%E6%8C%82%E8%BD%BDonedrive/2021-07-26-10-59-39.png" class=""><p>选择偏好元数据，国家选world</p><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/EMBY%E9%83%A8%E7%BD%B2%E5%B9%B6%E5%88%A9%E7%94%A8rclone%E6%8C%82%E8%BD%BDonedrive/2021-07-26-11-01-55.png" class=""><p>启用自动端口映射</p><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/EMBY%E9%83%A8%E7%BD%B2%E5%B9%B6%E5%88%A9%E7%94%A8rclone%E6%8C%82%E8%BD%BDonedrive/2021-07-26-11-02-31.png" class=""><p>然后就完成了，登录emby后，首先要设置</p><h3 id="基本设置"><a href="#基本设置" class="headerlink" title="基本设置"></a>基本设置</h3><ol><li><p>关闭emby转码<br>打开设置，选择用户并点击要关闭转码的用户。</p><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/EMBY%E9%83%A8%E7%BD%B2%E5%B9%B6%E5%88%A9%E7%94%A8rclone%E6%8C%82%E8%BD%BDonedrive/2021-07-26-11-13-07.png" class=""><p>关闭图中显示的①②，则是可选项③④（需要premiere才能使用，建议关闭）</p><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/EMBY%E9%83%A8%E7%BD%B2%E5%B9%B6%E5%88%A9%E7%94%A8rclone%E6%8C%82%E8%BD%BDonedrive/2021-07-26-11-14-34.png" class=""><p>同时<strong>建议</strong>关闭，以免手滑</p><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/EMBY%E9%83%A8%E7%BD%B2%E5%B9%B6%E5%88%A9%E7%94%A8rclone%E6%8C%82%E8%BD%BDonedrive/2021-07-26-11-16-08.png" class=""><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/EMBY%E9%83%A8%E7%BD%B2%E5%B9%B6%E5%88%A9%E7%94%A8rclone%E6%8C%82%E8%BD%BDonedrive/2021-07-26-11-16-18.png" class=""><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/EMBY%E9%83%A8%E7%BD%B2%E5%B9%B6%E5%88%A9%E7%94%A8rclone%E6%8C%82%E8%BD%BDonedrive/2021-07-26-11-16-50.png" class=""></li><li><p>修改缓存目录<br>点击<code>设置</code>，设置缓存路径，这里也需要先<code>mkdir</code>，并需要使用<code>chmod 777</code>授予权限。</p></li><li><p>修改元数据路径<br>在<code>媒体据</code>-&gt;<code>高级</code>-&gt;<code>元数据路径</code></p><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/EMBY%E9%83%A8%E7%BD%B2%E5%B9%B6%E5%88%A9%E7%94%A8rclone%E6%8C%82%E8%BD%BDonedrive/2021-07-26-11-40-23.png" class=""></li><li><p>添加刮削器（根据需要自行安装）<br>如果你需要刮削日本动画，这里推荐anime，在<code>插件</code>-&gt;<code>元数据</code>找到anime，并安装</p><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/EMBY%E9%83%A8%E7%BD%B2%E5%B9%B6%E5%88%A9%E7%94%A8rclone%E6%8C%82%E8%BD%BDonedrive/2021-07-26-11-38-35.png" class=""></li><li><p>重启</p><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/EMBY%E9%83%A8%E7%BD%B2%E5%B9%B6%E5%88%A9%E7%94%A8rclone%E6%8C%82%E8%BD%BDonedrive/2021-07-26-11-43-08.png" class=""></li></ol><h2 id="Emby建立媒体库"><a href="#Emby建立媒体库" class="headerlink" title="Emby建立媒体库"></a>Emby建立媒体库</h2><p>这里以动画为例，提供一下我的设置方案（注意刮削器要重启后才有）</p><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/EMBY%E9%83%A8%E7%BD%B2%E5%B9%B6%E5%88%A9%E7%94%A8rclone%E6%8C%82%E8%BD%BDonedrive/2021-07-26-15-05-43.png" class=""><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/EMBY%E9%83%A8%E7%BD%B2%E5%B9%B6%E5%88%A9%E7%94%A8rclone%E6%8C%82%E8%BD%BDonedrive/2021-07-26-15-06-42.png" class=""><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/EMBY%E9%83%A8%E7%BD%B2%E5%B9%B6%E5%88%A9%E7%94%A8rclone%E6%8C%82%E8%BD%BDonedrive/2021-07-26-15-07-04.png" class=""><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/EMBY%E9%83%A8%E7%BD%B2%E5%B9%B6%E5%88%A9%E7%94%A8rclone%E6%8C%82%E8%BD%BDonedrive/2021-07-26-15-07-18.png" class=""><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/EMBY%E9%83%A8%E7%BD%B2%E5%B9%B6%E5%88%A9%E7%94%A8rclone%E6%8C%82%E8%BD%BDonedrive/2021-07-26-15-07-35.png" class=""><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/EMBY%E9%83%A8%E7%BD%B2%E5%B9%B6%E5%88%A9%E7%94%A8rclone%E6%8C%82%E8%BD%BDonedrive/2021-07-26-15-07-49.png" class=""><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/EMBY%E9%83%A8%E7%BD%B2%E5%B9%B6%E5%88%A9%E7%94%A8rclone%E6%8C%82%E8%BD%BDonedrive/2021-07-26-15-08-05.png" class=""><p>显示效果：</p><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/EMBY%E9%83%A8%E7%BD%B2%E5%B9%B6%E5%88%A9%E7%94%A8rclone%E6%8C%82%E8%BD%BDonedrive/2021-07-26-15-16-04.png" class=""><p>总体来说还是不错的，有些译名用的很奇怪的版本，还是要手动修改一下。</p><h2 id="Emby绑定域名并启用https"><a href="#Emby绑定域名并启用https" class="headerlink" title="Emby绑定域名并启用https"></a>Emby绑定域名并启用https</h2><p>Emby本身是能够绑定域名，使用ssl证书的。但由于我们还有一些骚操作后面要做，这里还是选择使用nginx做端口转发，本文使用Oneinstack进行nginx配置，并自动更新ssl证书。</p><p>在他们官网 <a href="https://oneinstack.com/auto/">https://oneinstack.com/auto/</a> 选好要用什么东西，直接就能生成一键脚本了，很方便。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 安装screen</span><br><span class="line">apt-get install screen</span><br><span class="line"># 启动screen</span><br><span class="line">screen -S Oneinstack</span><br><span class="line"># 仅有nginx的安装模式，注意22处应当修改为你的ssh端口。</span><br><span class="line">wget -c http://mirrors.linuxeye.com/oneinstack-full.tar.gz &amp;&amp; tar xzf oneinstack-full.tar.gz &amp;&amp; ./oneinstack/install.sh --nginx_option 1 --ssh_port 22 --reboot </span><br></pre></td></tr></table></figure><p>PS：趁还在安装的时候，先去dns提供商那设置A解析，解析到vps的ip上。</p><article class="message is-warning"><div class="message-body"><p>注意，如果你在cloudflare设置了强制加密，或者http转https，在验证时需要暂时关闭（哪怕只是使用他们的dns）</p></div></article><p>等安装完成后，cd到Oneinstack文件夹，执行<code>./vhost.sh</code>即可进行虚拟主机+ssl证书的配置，纯傻瓜配置，就不说明了。</p><p>在配置完成后，还需要手动设置端口转发，编辑conf文件。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano /usr/local/nginx/conf/vhost/你设置的域名.conf</span><br></pre></td></tr></table></figure><p>在include后加入（可以不管缩进）</p><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">location</span> <span class="regexp">~ /</span> &#123;</span><br><span class="line">    <span class="attribute">proxy_set_header</span> X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">    <span class="attribute">proxy_set_header</span> Host $http_host;</span><br><span class="line">    <span class="attribute">proxy_redirect</span> <span class="literal">off</span>;</span><br><span class="line">    <span class="attribute">proxy_pass</span> http://127.0.0.1:8096;</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 如果要使用本地存储策略，请将下一行注释符删除，并更改大小为理论最大文件尺寸</span></span><br><span class="line">    <span class="comment"># client_max_body_size 20000m;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>重启nginx服务</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service nginx restart</span><br></pre></td></tr></table></figure><article class="message is-danger"><div class="message-header"><p>安全提醒</p></div><div class="message-body"><p>如果你已经能使用域名打开了，请在你的vps提供商那<strong>关闭端口</strong>，如果配置了防火墙，也一并关闭。</p><p>如果你在签发证书时在dns处关闭了<strong>强制https</strong>，<strong>经过身份验证的源服务器拉取</strong>等，请重新开启。</p></div></article><h2 id="Emby客户端"><a href="#Emby客户端" class="headerlink" title="Emby客户端"></a>Emby客户端</h2><p>众所周知Emby的客户端都是要收钱的，在网上找到了一种利用自行搭建服务器伪造验证服务器的方法。原博主已经讲的很清楚了，这里就不再说明了。</p><article class="message is-danger"><div class="message-header"><p>版权提醒，建议使用正版</p></div><div class="message-body"><p><a href="https://imrbq.cn/exp/emby_hack.html#toc_49">https://imrbq.cn/exp/emby_hack.html#toc_49</a></p></div></article><p>显示效果：</p><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/EMBY%E9%83%A8%E7%BD%B2%E5%B9%B6%E5%88%A9%E7%94%A8rclone%E6%8C%82%E8%BD%BDonedrive/2021-07-26-15-17-05.png" class=""><h2 id="Emby直链视频"><a href="#Emby直链视频" class="headerlink" title="Emby直链视频"></a>Emby直链视频</h2><p>由于我的vps只有2t的下行流量，考虑到上面还有别的项目要跑，流量可能有点紧张，这里尝试把emby给的链接改成直链onedrive，vps宝贵的流量就省下来了（</p><article class="message is-warning"><div class="message-body"><p><strong>本段正在编写中</strong></p></div></article><h2 id="Emby刮削特殊内容"><a href="#Emby刮削特殊内容" class="headerlink" title="Emby刮削特殊内容"></a>Emby刮削特殊内容</h2><article class="message is-warning"><div class="message-body"><p><strong>本段正在编写中</strong></p></div></article>]]></content>
    
    
    <summary type="html">&lt;img src=&quot;/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/EMBY%E9%83%A8%E7%BD%B2%E5%B9%B6%E5%88%A9%E7%94%A8rclone%E6%8C%82%E8%BD%BDonedrive/2021-07-26-15-17-05.png&quot; class=&quot;&quot;&gt;

&lt;p&gt;本文从应用注册到Emby搭建配置以及&lt;del&gt;魔改&lt;/del&gt;都进行了说明，尽量让所有人都能看懂（不存在的，包括但不限于以下内容：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;onedrive应用注册&lt;/li&gt;
&lt;li&gt;rclone配置&lt;/li&gt;
&lt;li&gt;emby搭建&lt;/li&gt;
&lt;li&gt;emby媒体库设置&lt;/li&gt;
&lt;li&gt;emby客户端配置&lt;/li&gt;
&lt;li&gt;其他魔改&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;折腾Emby，主要还是为了存档，平时看的机会挺少的，毕竟下新东西也麻烦2333。&lt;/p&gt;</summary>
    
    
    
    <category term="coding" scheme="https://kuusei.moe/categories/coding/"/>
    
    <category term="简易教程" scheme="https://kuusei.moe/categories/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="EMBY" scheme="https://kuusei.moe/tags/EMBY/"/>
    
    <category term="rclone" scheme="https://kuusei.moe/tags/rclone/"/>
    
    <category term="linux" scheme="https://kuusei.moe/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>腾讯轻量windows重装debian</title>
    <link href="https://kuusei.moe/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/%E8%85%BE%E8%AE%AF%E8%BD%BB%E9%87%8Fwindows%E9%87%8D%E8%A3%85debian/"/>
    <id>https://kuusei.moe/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/%E8%85%BE%E8%AE%AF%E8%BD%BB%E9%87%8Fwindows%E9%87%8D%E8%A3%85debian/</id>
    <published>2021-07-24T14:09:13.000Z</published>
    <updated>2021-07-25T03:36:13.000Z</updated>
    
    <content type="html"><![CDATA[<p>买腾讯云windows版本，主要是为了官方更大的硬盘（以及1c2g，但windows server内存占用实在有点大，到手之后就需要重装一下系统了（腾讯云海外不能直接改linux）。</p><p>如果只是要重装系统，网上有许多一键DD脚本，许多还可以自选镜像文件，但使用起来还是有些不放心。本文利用github上一个2.5kstar的项目netboot.xyz进行安装（本质是利用pxe进行安装）。此项目使用的人多，并且其镜像文件全部都从官方直链下载，放心许多。</p><span id="more"></span><h2 id="重置密码并登录"><a href="#重置密码并登录" class="headerlink" title="重置密码并登录"></a>重置密码并登录</h2><p>腾讯云拿到手之后，首先要把windows密码重置了，初始是不会给你密码的，这一步在控制台操作即可。</p><p>重置完密码后，就可以使用vnc进行登录了，这里使用腾讯云直接给的vnc工具进行远程桌面连接。</p><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/%E8%85%BE%E8%AE%AF%E8%BD%BB%E9%87%8Fwindows%E9%87%8D%E8%A3%85debian/2021-07-24-22-23-22.png" class=""><p>顺利登录成功（</p><h2 id="一键DD"><a href="#一键DD" class="headerlink" title="一键DD"></a>一键DD</h2><p>由于netboot需要使用grub, 而windows安装grub并配置有点麻烦, 这里使用萌咔大佬做的windows to linux脚本（不直接使用这个脚本作为最终版本的原因是：1.萌咔大佬的blog已经打不开了，仅脚本还能下载，2.自定义镜像还需要手动提取文件，不太方便）。这里使用<strong>世界上最好的浏览器下载工具</strong>–IE下载。</p><blockquote><p><a href="https://moeclub.org/attachment/WindowsSoftware/win32loader.bat">https://moeclub.org/attachment/WindowsSoftware/win32loader.bat</a></p></blockquote><p>此外还需要镜像文件，moeclub不太能下的动，因此这里选择了一个<strong>不确定安全性的镜像</strong>做跳板</p><blockquote><p><a href="http://depot.treesky.link/windddebian/initrd.img">http://depot.treesky.link/windddebian/initrd.img</a><br><a href="http://depot.treesky.link/windddebian/vmlinuz">http://depot.treesky.link/windddebian/vmlinuz</a></p></blockquote><p>下载完成后复制到<code>C:\win32-loader\</code>内并以管理员模式启动win32loader.bat选择本地安装</p><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/%E8%85%BE%E8%AE%AF%E8%BD%BB%E9%87%8Fwindows%E9%87%8D%E8%A3%85debian/2021-07-24-23-02-28.png" class=""><p>很快就会重启并自动安装完成了，默认密码是<code>MoeClub.org</code>，<strong>请立即使用<code>passwd</code>修改密码</strong></p><h2 id="配置-netboot-xyz"><a href="#配置-netboot-xyz" class="headerlink" title="配置 netboot.xyz"></a>配置 netboot.xyz</h2><article class="message is-warning"><div class="message-body"><p>本段内容参考了 <a href="https://blog.ni-co.moe/public/576.html">https://blog.ni-co.moe/public/576.html</a></p></div></article><p>接着就可以使用netboot.xyz进行安装了，首先要安装环境并下载</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">apt-get update</span><br><span class="line"><span class="meta">#</span><span class="bash"> 下载ca证书</span></span><br><span class="line">apt-get install ca-certificates</span><br><span class="line"><span class="meta">#</span><span class="bash"> 下载netboot.xyz.lkrn并保存到/boot/</span></span><br><span class="line">wget https://boot.netboot.xyz/ipxe/netboot.xyz.lkrn -O /boot/netboot.xyz.lkrn</span><br></pre></td></tr></table></figure><p>然后编辑<code>/boot/grub/grub.cfg</code>（理论上应当编辑/etc/grub.d/和/etc/default/grub/内的内容，但这里只使用一次，因此没必要了）在menuentry前添加：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">nano /boot/grub/grub.cfg</span><br><span class="line"><span class="meta">#</span><span class="bash"> 添加如下内容</span></span><br><span class="line">menuentry &quot;netboot.xyz.lkrn&quot; &#123;</span><br><span class="line">    linux16 /boot/netboot.xyz.lkrn</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>保存后重启即可。</p><h2 id="安装-Debian"><a href="#安装-Debian" class="headerlink" title="安装 Debian"></a>安装 Debian</h2><p>由于设置在第一个，重启后自动就会进入<code>netboot.xyz</code>界面（可能还需要配置网络，根据vps提供商给的内网ip进行配置就行），这里选择<code>linux Network Installs</code>，选择需要的系统和版本后直接安装即可。</p><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/%E8%85%BE%E8%AE%AF%E8%BD%BB%E9%87%8Fwindows%E9%87%8D%E8%A3%85debian/2021-07-25-00-05-52.png" class=""><p>安装前还会询问安装器模式，这里选择Text或Graphical均可（与安装后系统是否带gui无关）。</p><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/%E8%85%BE%E8%AE%AF%E8%BD%BB%E9%87%8Fwindows%E9%87%8D%E8%A3%85debian/2021-07-25-00-09-02.png" class=""><p>安装过程全中文，根据需要配置即可。<strong>请设置强密码，或在系统启动后立刻修改密码</strong><br>并注意在选择软件包时，取消桌面环境，并勾选ssh服务</p><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/%E8%85%BE%E8%AE%AF%E8%BD%BB%E9%87%8Fwindows%E9%87%8D%E8%A3%85debian/2021-07-25-00-15-07.png" class=""><h2 id="基本设置"><a href="#基本设置" class="headerlink" title="基本设置"></a>基本设置</h2><p>安装系统后就可以使用安装时设置的非root账号进行登录了，非root账号有些不便，这里开启root使用密钥登录并修改端口，测试完成后，关闭密码登录。</p><article class="message is-danger"><div class="message-body"><p>不推荐使用root登录，但强烈建议<strong>修改端口</strong>和<strong>使用密钥登录</strong>。<br>注意在修改端口后，需要在云提供商那修改<strong>防火墙</strong>放行新端口。</p></div></article><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 切换到root账号</span></span><br><span class="line">su</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 打开配置文件</span></span><br><span class="line">nano /etc/ssh/sshd_config</span><br><span class="line"><span class="meta">#</span><span class="bash"> 允许用户登录</span></span><br><span class="line">PermitRootLogin yes</span><br><span class="line"><span class="meta">#</span><span class="bash"> 修改端口</span></span><br><span class="line">Port portnumber</span><br><span class="line"><span class="meta">#</span><span class="bash"> 允许密钥登录</span></span><br><span class="line">RSAAuthentication yes</span><br><span class="line">PubkeyAuthentication yes</span><br><span class="line">AuthorizedKeysFile .ssh/authorized_keys</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 生成密钥</span></span><br><span class="line">cd /root</span><br><span class="line">ssh-keygen -t rsa</span><br><span class="line"><span class="meta">#</span><span class="bash"> 重命名</span></span><br><span class="line">cd ~/.ssh</span><br><span class="line">cat id_rsa.pub &gt;&gt; authorized_keys</span><br><span class="line"><span class="meta">#</span><span class="bash"> 设置权限</span></span><br><span class="line">chmod 600 authorized_keys</span><br><span class="line">chmod 700 /root/.ssh</span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">####################### 请下载id_rsa ########################</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 删除id_rsa</span></span><br><span class="line">rm id_rsa</span><br><span class="line">rm id_rsa.pub</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 重启服务</span></span><br><span class="line">/etc/init.d/ssh restart</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">######################## 请测试登录 #########################</span></span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 打开配置文件</span></span><br><span class="line">nano /etc/ssh/sshd_config</span><br><span class="line"><span class="meta">#</span><span class="bash"> 禁用密码登录</span></span><br><span class="line">PasswordAuthentication no</span><br><span class="line"><span class="meta">#</span><span class="bash"> 重启服务</span></span><br><span class="line">/etc/init.d/ssh restart</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 删除账号和组</span></span><br><span class="line">deluser --remove-home username</span><br><span class="line">groupdel groupname</span><br></pre></td></tr></table></figure><p>接着配置一下源，并更新系统</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># 修改源</span><br><span class="line">nano /etc/apt/sources.list</span><br><span class="line"># 改为以下内容</span><br><span class="line">deb http://deb.debian.org/debian/ buster main contrib non-free</span><br><span class="line">deb-src http://deb.debian.org/debian/ buster main contrib non-free</span><br><span class="line">deb http://security.debian.org/debian-security buster/updates main contrib non-free</span><br><span class="line">deb-src http://security.debian.org/debian-security buster/updates main contrib non-free</span><br><span class="line">deb http://deb.debian.org/debian buster-updates main contrib non-free</span><br><span class="line">deb-src http://deb.debian.org/debian buster-updates main contrib non-free</span><br><span class="line">deb http://deb.debian.org/debian buster-backports main contrib non-free</span><br><span class="line">deb-src http://deb.debian.org/debian buster-backports main contrib non-free</span><br><span class="line"></span><br><span class="line"># 更新系统</span><br><span class="line">apt-get update</span><br><span class="line">apt-get upgrade</span><br></pre></td></tr></table></figure><h2 id="更换系统"><a href="#更换系统" class="headerlink" title="更换系统"></a>更换系统</h2><p>注意由于在安装系统时调整了分区表，因此grub启动不能和原来的设置方法一样，这里提供使用默认分区模式的grub配置</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">menuentry &quot;netboot.xyz.lkrn&quot; &#123;</span><br><span class="line">    linux16 (hd0,msdos1)/netboot.xyz.lkrn</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>如果你修改了分区表，请自行寻找并修改文件位置。（在grub 交互式界面中可以使用ls）</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">grub&gt;</span><span class="bash"> ls (hd0,msdos1)/</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;买腾讯云windows版本，主要是为了官方更大的硬盘（以及1c2g，但windows server内存占用实在有点大，到手之后就需要重装一下系统了（腾讯云海外不能直接改linux）。&lt;/p&gt;
&lt;p&gt;如果只是要重装系统，网上有许多一键DD脚本，许多还可以自选镜像文件，但使用起来还是有些不放心。本文利用github上一个2.5kstar的项目netboot.xyz进行安装（本质是利用pxe进行安装）。此项目使用的人多，并且其镜像文件全部都从官方直链下载，放心许多。&lt;/p&gt;</summary>
    
    
    
    <category term="coding" scheme="https://kuusei.moe/categories/coding/"/>
    
    <category term="简易教程" scheme="https://kuusei.moe/categories/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="linux" scheme="https://kuusei.moe/tags/linux/"/>
    
    <category term="vps" scheme="https://kuusei.moe/tags/vps/"/>
    
    <category term="grub" scheme="https://kuusei.moe/tags/grub/"/>
    
  </entry>
  
  <entry>
    <title>Hexo和Icarus折腾</title>
    <link href="https://kuusei.moe/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/Hexo%E5%92%8CIcarus%E6%8A%98%E8%85%BE/"/>
    <id>https://kuusei.moe/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/Hexo%E5%92%8CIcarus%E6%8A%98%E8%85%BE/</id>
    <published>2021-07-24T01:39:37.000Z</published>
    <updated>2021-07-25T06:20:50.000Z</updated>
    
    <content type="html"><![CDATA[<!-- 顶部提示代码 --><article class="message is-danger"><div class="message-header"><p>本篇正在编写中</p></div><div class="message-body"><p>存在许多未经证明的内容，可能会导致误解，因此，<em><strong>除本文转载的内容外</strong></em>，其余内容未经许可，<strong>禁止转载</strong>.</p></div></article><!-- 摘要分离 --><div class="post-summary"><p>主要是一些Hexo和Icarus以及在vscode上的插件及其设置，部分插件使用教程直接来自于插件的官方文档。</p></div><span id="more"></span><!-- 控制正文不显示摘要 --><style type="text/css">.post-summary { display: none; }</style><h2 id="魔改"><a href="#魔改" class="headerlink" title="魔改"></a>魔改</h2><h3 id="固定顶部导航"><a href="#固定顶部导航" class="headerlink" title="固定顶部导航"></a>固定顶部导航</h3><article class="message is-warning"><div class="message-body"><p><strong>本段正在编写中</strong></p></div></article><h3 id="pjax"><a href="#pjax" class="headerlink" title="pjax"></a>pjax</h3><article class="message is-warning"><div class="message-body"><p><strong>本段正在编写中</strong></p></div></article><h3 id="首页文章显示tags"><a href="#首页文章显示tags" class="headerlink" title="首页文章显示tags"></a>首页文章显示tags</h3><article class="message is-warning"><div class="message-body"><p><strong>本段正在编写中</strong></p></div></article><h3 id="宽度修改"><a href="#宽度修改" class="headerlink" title="宽度修改"></a>宽度修改</h3><article class="message is-warning"><div class="message-body"><p><strong>本段正在编写中</strong></p></div></article><h3 id="WEBP格式"><a href="#WEBP格式" class="headerlink" title="WEBP格式"></a>WEBP格式</h3><article class="message is-warning"><div class="message-body"><p><strong>本段正在编写中</strong></p></div></article><h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><h3 id="hexo和vscode均兼容的图片显示"><a href="#hexo和vscode均兼容的图片显示" class="headerlink" title="hexo和vscode均兼容的图片显示"></a>hexo和vscode均兼容的图片显示</h3><p>目前显示图片用的是</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% asset_img hexo-blog-encrypt.png %&#125;</span><br></pre></td></tr></table></figure><p>在vscode中没法正常显示，但在hexo s 和 hexo g 中都能正常显示。</p><p>尝试了一下利用Markdown Preview Enhanced中的Extend Parser进行渲染，目前网上主流的修改方式如下：</p><p>使用<code>ctrl</code>+<code>shift</code>+<code>p</code>输入<code>Markdown Preview Enhanced: Extend Parser</code>编辑<strong>onWillParseMarkdown</strong>函数。</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">onWillParseMarkdown</span>: <span class="function"><span class="keyword">function</span>(<span class="params">markdown</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>)=&gt;</span> &#123;</span><br><span class="line">      markdown = markdown.replace(</span><br><span class="line">        <span class="regexp">/\&#123;%\s*asset_img\s*(.*)\s*%\&#125;/g</span>,</span><br><span class="line">        <span class="function">(<span class="params">whole, content</span>) =&gt;</span> (<span class="string">`![img](<span class="subst">$&#123;content&#125;</span>)`</span>)</span><br><span class="line">      )</span><br><span class="line">      <span class="keyword">return</span> resolve(markdown)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  ...</span><br></pre></td></tr></table></figure><p>这样的修改方式实际上将<code>&#123;% asset_img hexo-blog-encrypt.png %&#125;</code>修改为<code>![img]($&#123;content&#125;)</code>，不知道什么版本的markdown能渲染出来（并且我使用vscode和typora都不能正常显示），但这样是有问题的，因为markdown显示图片需要使用相对地址，不应该使用文件名读取同名目录下的文件。</p><p>因此，需要在content前补充一个文件夹名，由于<strong>文件夹</strong>和文件以及<strong>标题</strong>是同名的，因此这里用标题来作为dir路径，如果你的不是这样命名，可能还需要别的方法。</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="attr">onWillParseMarkdown</span>: <span class="function"><span class="keyword">function</span>(<span class="params">markdown</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>)=&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// 寻找一行开头为title:的行, 并进行正则提取</span></span><br><span class="line">      <span class="keyword">var</span> r = <span class="regexp">/title: (.*)/</span></span><br><span class="line">      <span class="keyword">var</span> dir = r.exec(markdown)[<span class="number">1</span>]</span><br><span class="line">      markdown = markdown.replace(</span><br><span class="line">        <span class="regexp">/\&#123;%\s*asset_img\s*(\S*)\s*(.*)\s+%\&#125;/g</span>,</span><br><span class="line">        <span class="function">(<span class="params">whole, file_name, file_info</span>) =&gt;</span>  (<span class="string">`![<span class="subst">$&#123;file_info&#125;</span>](<span class="subst">$&#123;dir&#125;</span>/<span class="subst">$&#123;file_name&#125;</span>)`</span>)</span><br><span class="line">      )</span><br><span class="line">      <span class="keyword">return</span> resolve(markdown)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  ...</span><br></pre></td></tr></table></figure><p>这样就能够正常预览了，虽然这样实现不太优雅hhhh，但预计未来会使用图床或对象存储进行图片存储，因此这个就不做调整了。</p><h3 id="vscode中预览bulma样式"><a href="#vscode中预览bulma样式" class="headerlink" title="vscode中预览bulma样式"></a>vscode中预览bulma样式</h3><p>本站使用了bulma样式对markdown进行补充，但在vscode的预览中，引入的html语句因为没有css因此不能正常显示，因此需要把bulma的css引入进来。</p><p>使用<code>ctrl</code>+<code>shift</code>+<code>p</code>输入<code>Markdown Preview Enhanced: Customize CSS</code>编辑，将bulma的提供的css贴上或者引入均可。</p><blockquote><p><a href="https://bulma.io/">https://bulma.io/</a> </p></blockquote><p>导入后就可以看到显示的效果了，注意bulma提供的css对markdown<strong>有侵入</strong>，如果发现哪里出现问题了，把对应的css注释掉即可，以下是我修改的一些部分。</p><figure class="highlight css"><figcaption><span>点击展开代码 >folded</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">// 注释number类</span><br><span class="line">// <span class="selector-class">.number</span> &#123;</span><br><span class="line">//   <span class="attribute">align-items</span>: center;</span><br><span class="line">//   <span class="attribute">background-color</span>: whitesmoke;</span><br><span class="line">//   <span class="attribute">border-radius</span>: <span class="number">9999px</span>;</span><br><span class="line">//   <span class="attribute">display</span>: inline-flex;</span><br><span class="line">//   <span class="attribute">font-size</span>: <span class="number">1.25rem</span>;</span><br><span class="line">//   <span class="attribute">height</span>: <span class="number">2em</span>;</span><br><span class="line">//   <span class="attribute">justify-content</span>: center;</span><br><span class="line">//   <span class="attribute">margin-right</span>: <span class="number">1.5rem</span>;</span><br><span class="line">//   <span class="attribute">min-width</span>: <span class="number">2.5em</span>;</span><br><span class="line">//   <span class="attribute">padding</span>: <span class="number">0.25rem</span> <span class="number">0.5rem</span>;</span><br><span class="line">//   <span class="attribute">text-align</span>: center;</span><br><span class="line">//   <span class="attribute">vertical-align</span>: top;</span><br><span class="line">// &#125;</span><br><span class="line"></span><br><span class="line">// 添加<span class="selector-class">.message-body</span> <span class="selector-tag">p</span></span><br><span class="line">// 用于对message-<span class="selector-tag">body</span>内<span class="selector-tag">p</span>标签的调整，不然会有<span class="number">16px</span>的错误<span class="attribute">margin</span></span><br><span class="line"><span class="selector-class">.message-body</span> <span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 同上，为了之后方便改，就不写一起了</span><br><span class="line"><span class="selector-class">.message-header</span> <span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>同时，在<code>Markdown Preview Enhanced: Extend Parser</code>中，编辑<strong>onWillParseMarkdown</strong>函数，添加如下内容，将Raw代码块排除渲染。</p><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">markdown = markdown.replace(</span><br><span class="line">  <span class="regexp">/\&#123;% endraw %&#125;/g</span>,</span><br><span class="line">  <span class="function">(<span class="params">whole</span>) =&gt;</span>  (<span class="string">``</span>)</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">markdown = markdown.replace(</span><br><span class="line">  <span class="regexp">/\&#123;% raw %&#125;/g</span>,</span><br><span class="line">  <span class="function">(<span class="params">whole</span>) =&gt;</span>  (<span class="string">``</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>显示效果：</p><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/Hexo%E5%92%8CIcarus%E6%8A%98%E8%85%BE/2021-07-24-15-07-44.png" class=""><h2 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h2><h3 id="Waline-评论"><a href="#Waline-评论" class="headerlink" title="Waline 评论"></a>Waline 评论</h3><article class="message is-warning"><div class="message-body"><p><strong>本段正在编写中</strong>，可能要换评价插件，暂时不写这段了</p></div></article><h3 id="Hexo-blog-encrypt-加密"><a href="#Hexo-blog-encrypt-加密" class="headerlink" title="Hexo-blog-encrypt 加密"></a>Hexo-blog-encrypt 加密</h3><p>html内容直接加密，应该还是比较安全的</p><h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-blog-encrypt</span><br></pre></td></tr></table></figure><h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><p>在文章前添加密码和其他说明（以下内容摘自hexo-blog-encrypt github）</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">password:</span> <span class="string">hello</span></span><br><span class="line"><span class="attr">abstract:</span> <span class="string">有东西被加密了,</span> <span class="string">请输入密码查看.</span></span><br><span class="line"><span class="attr">message:</span> <span class="string">您好,</span> <span class="string">这里需要密码.</span></span><br><span class="line"><span class="attr">wrong_pass_message:</span> <span class="string">抱歉,</span> <span class="string">这个密码看着不太对,</span> <span class="string">请再试试.</span></span><br><span class="line"><span class="attr">wrong_hash_message:</span> <span class="string">抱歉,</span> <span class="string">这个文章不能被校验,</span> <span class="string">不过您还是能看看解密后的内容.</span></span><br></pre></td></tr></table></figure><p>也可以在_config.yml中设置，其中tags可以根据tag设置密码，并自动加密</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Security</span></span><br><span class="line"><span class="attr">encrypt:</span> <span class="comment"># hexo-blog-encrypt</span></span><br><span class="line">  <span class="attr">abstract:</span> <span class="string">有东西被加密了,</span> <span class="string">请输入密码查看.</span></span><br><span class="line">  <span class="attr">message:</span> <span class="string">您好,</span> <span class="string">这里需要密码.</span></span><br><span class="line">  <span class="attr">tags:</span></span><br><span class="line">  <span class="bullet">-</span> &#123;<span class="attr">name:</span> <span class="string">tagName</span>, <span class="attr">password:</span> <span class="string">密码A</span>&#125;</span><br><span class="line">  <span class="bullet">-</span> &#123;<span class="attr">name:</span> <span class="string">tagName</span>, <span class="attr">password:</span> <span class="string">密码B</span>&#125;</span><br><span class="line">  <span class="attr">wrong_pass_message:</span> <span class="string">抱歉,</span> <span class="string">这个密码看着不太对,</span> <span class="string">请再试试.</span></span><br><span class="line">  <span class="attr">wrong_hash_message:</span> <span class="string">抱歉,</span> <span class="string">这个文章不能被校验,</span> <span class="string">不过您还是能看看解密后的内容.</span></span><br></pre></td></tr></table></figure><h4 id="显示效果"><a href="#显示效果" class="headerlink" title="显示效果"></a>显示效果</h4><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/Hexo%E5%92%8CIcarus%E6%8A%98%E8%85%BE/hexo-blog-encrypt.png" class=""><h3 id="Hexo-native-lazy-load-懒加载"><a href="#Hexo-native-lazy-load-懒加载" class="headerlink" title="Hexo-native-lazy-load 懒加载"></a>Hexo-native-lazy-load 懒加载</h3><p>使用<code>npm install hexo-native-lazy-load --save</code>安装，并在<code>_config.yml</code>添加：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># lazy—load</span></span><br><span class="line"><span class="attr">lazy_load:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">onlypost:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p>即可实现懒加载，图片不需要手动添加<code>loading=&quot;lazy&quot;</code>，如果f12后发现img标签没有正确的添加lazy属性，则需要执行<code>hexo clean</code>，成功效果如下。</p><img loading="lazy" src="/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/Hexo%E5%92%8CIcarus%E6%8A%98%E8%85%BE/2021-07-25-12-57-35.png" class=""><h3 id="Hexo-generator-feed-rss订阅"><a href="#Hexo-generator-feed-rss订阅" class="headerlink" title="Hexo-generator-feed rss订阅"></a>Hexo-generator-feed rss订阅</h3><p>现在用rss的人已经不多了（虽然我还在用），所以要给博客加个rss。<br>使用<code>npm hexo-generator-feed --save</code>安装，并在<code>_config.yml</code>添加：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># rss</span></span><br><span class="line"><span class="comment"># rss</span></span><br><span class="line"><span class="attr">feed:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">atom</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">atom.xml</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">20</span></span><br></pre></td></tr></table></figure><p>就可以使用了，具体配置参数可以在 <a href="https://github.com/hexojs/hexo-generator-feed">https://github.com/hexojs/hexo-generator-feed</a> 这里看。<br>同时还需要在Icarus中设置rss链接，在<code>_config.icarus.yml</code>的<code>widgets.social_links</code>中添加：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">RSS:</span></span><br><span class="line">  <span class="attr">icon:</span> <span class="string">fas</span> <span class="string">fa-rss</span></span><br><span class="line">  <span class="attr">url:</span> <span class="string">/atom.xml</span></span><br></pre></td></tr></table></figure><p>即可显示rss按钮了。</p><h3 id="Hexo-generator-sitemap-站点地图"><a href="#Hexo-generator-sitemap-站点地图" class="headerlink" title="Hexo-generator-sitemap 站点地图"></a>Hexo-generator-sitemap 站点地图</h3><p>使用<code>npm install hexo-generator-sitemap --save</code>安装后，并在<code>_config.yml</code>添加：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># sitemap</span></span><br><span class="line"><span class="attr">sitemap:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">sitemap.xml</span></span><br><span class="line">  <span class="attr">tags:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">categories:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><h3 id="Hexo-tag-steamgame-steam游戏插件"><a href="#Hexo-tag-steamgame-steam游戏插件" class="headerlink" title="Hexo-tag-steamgame steam游戏插件"></a>Hexo-tag-steamgame steam游戏插件</h3><p>使用<code>npm install hexo-tag-steamgame --save</code>安装后，在文章内添加：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% steamgame appid description %&#125;</span><br><span class="line"># 例如</span><br><span class="line">&#123;% steamgame 1127500 迷你地铁制作组的新作品 %&#125;</span><br><span class="line"># 或者，不带简介，默认会使用steam的简介</span><br><span class="line">&#123;% steamgame 246620 %&#125;</span><br></pre></td></tr></table></figure><iframe src="https://store.steampowered.com/widget/1127500/?t=迷你地铁制作组的新作品" frameborder="0" width="100%" height="190"></iframe><iframe src="https://store.steampowered.com/widget/246620/" frameborder="0" width="100%" height="190"></iframe>]]></content>
    
    
    <summary type="html">&lt;!-- 顶部提示代码 --&gt;
&lt;article class=&quot;message is-danger&quot;&gt;&lt;div class=&quot;message-header&quot;&gt;

&lt;p&gt;本篇正在编写中&lt;/p&gt;
&lt;/div&gt;&lt;div class=&quot;message-body&quot;&gt;

&lt;p&gt;存在许多未经证明的内容，可能会导致误解，因此，&lt;em&gt;&lt;strong&gt;除本文转载的内容外&lt;/strong&gt;&lt;/em&gt;，其余内容未经许可，&lt;strong&gt;禁止转载&lt;/strong&gt;.&lt;/p&gt;
&lt;/div&gt;&lt;/article&gt;

&lt;!-- 摘要分离 --&gt;
&lt;div class=&quot;post-summary&quot;&gt;

&lt;p&gt;主要是一些Hexo和Icarus以及在vscode上的插件及其设置，部分插件使用教程直接来自于插件的官方文档。&lt;/p&gt;
&lt;/div&gt;</summary>
    
    
    
    <category term="coding" scheme="https://kuusei.moe/categories/coding/"/>
    
    <category term="简易教程" scheme="https://kuusei.moe/categories/coding/%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="Hexo" scheme="https://kuusei.moe/tags/Hexo/"/>
    
    <category term="Icarus" scheme="https://kuusei.moe/tags/Icarus/"/>
    
  </entry>
  
  <entry>
    <title>你好世界</title>
    <link href="https://kuusei.moe/%E7%94%9F%E6%B4%BB%E7%AC%94%E8%AE%B0/%E9%97%B2%E6%9D%A5/hello-world/"/>
    <id>https://kuusei.moe/%E7%94%9F%E6%B4%BB%E7%AC%94%E8%AE%B0/%E9%97%B2%E6%9D%A5/hello-world/</id>
    <published>2021-07-23T06:48:20.000Z</published>
    <updated>2021-07-23T06:48:20.000Z</updated>
    
    <content type="html"><![CDATA[<p>时隔许久，终于又开始写blog了，也许没啥优质内容，也许这网站永远就我一人看，但没关系，只为世界还有我一丝存在的意义。</p><h2 id="本blog的主要内容"><a href="#本blog的主要内容" class="headerlink" title="本blog的主要内容"></a>本blog的主要内容</h2><ul><li>coding<ul><li>简易教程：<del>（指和网上一样的题材，类似的内容）</del>当然，写的话就尽量详尽，把遇到的坑都说明。</li><li>leetcode：今年要在leetcode刷题，无论难易都会尽量写一点</li><li>技术笔记：纯原创内容，一年预计能有3篇左右</li><li>折腾硬件：各类设备刷机历程，比流程笔记稍微好多（</li><li>从0开始的linux学习之路：从最简单的命令行到各种配置，更多是给自己查询用。</li></ul></li><li>生活笔记<ul><li>闲来：自然要胡说八道。</li><li>游记：以照片分享为主。</li><li>动画：漫画和小说，评价和推荐。</li><li>原神：每个版本的一点记录。</li></ul></li><li>兴趣（轻重缓急分先后）<ul><li>台风，没机会也没胆量当一个追风者，但还是能在windy和人一起看看风。</li><li>绘画，啊这，每年都是学画画的最佳时机，2021也是。</li><li>小说，语文没过90分，真的要写么（。</li><li>游戏制作，一直想做个小游戏，哎嘿，等我会画画，会写剧情的时候（。</li></ul></li></ul><p>PS：特地在博客还没弄好的时候，就开始写这篇了，也是希望能以此为戒，少折腾折腾主题、插件，多输出点优质内容吧。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;时隔许久，终于又开始写blog了，也许没啥优质内容，也许这网站永远就我一人看，但没关系，只为世界还有我一丝存在的意义。&lt;/p&gt;
&lt;h2 id=&quot;本blog的主要内容&quot;&gt;&lt;a href=&quot;#本blog的主要内容&quot; class=&quot;headerlink&quot; title=&quot;本blog</summary>
      
    
    
    
    <category term="生活笔记" scheme="https://kuusei.moe/categories/%E7%94%9F%E6%B4%BB%E7%AC%94%E8%AE%B0/"/>
    
    <category term="闲来" scheme="https://kuusei.moe/categories/%E7%94%9F%E6%B4%BB%E7%AC%94%E8%AE%B0/%E9%97%B2%E6%9D%A5/"/>
    
    
    <category term="杂记" scheme="https://kuusei.moe/tags/%E6%9D%82%E8%AE%B0/"/>
    
  </entry>
  
</feed>
